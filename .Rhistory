head(canada)
set.seed(1)
uniform <-
?runif
normal <- rnorm
?rnorm
integer <- sample()
normal <- rnorm #xbar=0, sd=1
integer <- sample()
?sample
character <- sample("Cat", "Dog", "Pig", 20, replace=TRUE) # we can do the same thing with character data
integer <- sample(5:10, 20, replace=TRUE) #20 draws between 5 and 10
character <- sample("Cat", "Dog", "Pig", 20, replace=TRUE) # we can do the same thing with character data
character <- sample(c("Cat", "Dog", "Pig"), 20, replace=TRUE) # we can do the same thing with character data
logical <- sample(c("TRUE", "FALSE"), 20, replace=TRUE)
animals <- data.frame(uniform, normal, integer, character, logical)
animals
uniform <- runif(20, 3, 7) #sample 20 draws from the uniform distribution between the numbers 3 and 7
rm(list=ls())
normal <- rnorm #xbar=0, sd=1
integer <- sample(5:10, 20, replace=TRUE) #20 draws between 5 and 10
character <- sample(c("Cat", "Dog", "Pig"), 20, replace=TRUE) # we can do the same thing with character data
logical <- sample(c("TRUE", "FALSE"), 20, replace=TRUE)
animals <- data.frame(uniform, normal, integer, character, logical)
animals
animals <- data.frame(uniform, normal, integer, character, logical)
names <-C("Weight", "Progress", "Height", "Name", "Healthy")
animals <- data.frame(uniform, normal, integer, character, logical)
uniform <- runif(20, 3, 7) #sample 20 draws from the uniform distribution between the numbers 3 and 7
normal <- rnorm #xbar=0, sd=1
integer <- sample(5:10, 20, replace=TRUE) #20 draws between 5 and 10
character <- sample(c("Cat", "Dog", "Pig"), 20, replace=TRUE) # we can do the same thing with character data
logical <- sample(c("TRUE", "FALSE"), 20, replace=TRUE)
animals <- data.frame(uniform, normal, integer, character, logical)
animals
uniform <-runif(20,3,7)#sample 20 draws form the uniform distribution (graph: horizontal line)
normal= rnorm(20,0,1) #xbar=0, sd=1
integer=sample(5:10,20, replace=TRUE) #20 draws between 5 and 10 (ok to repeat and use numbers again)
character<- sample(c("Cat", "Dog", "Pig", 20, replace=TRUE)) # we can do the same thing with character data
logical <- sample(c("TRUE", "FALSE"), 20, replace=TRUE)
logical <- sample(c("TRUE", "FALSE"), 20, replace=TRUE)
logical <- as.logical(sample(c("TRUE", "FALSE", as.logical(0), as.logical(1)), 20, replace=TRUE))
logical <- as.logical(sample(c("TRUE", "FALSE",0,1), 20, replace=TRUE))
logical
class(logical)
#How do we turn these vectors into a data frame?
animals <- data.frame(uniform, normal, integer, character, logical)
animals
#These names are uninformative! Let's give them better ones:
names <- c("Weight", "Progress", "Height", "Name", "Healthy")
colnames(animals) <- names
head(animals)
#We can reorder the columns!
animals<- animals[,c("Name","Healthy","Weight","Height","Progress")]
animals<- animals[,c(3,5,4,1,2)]
head(animals)
names(animals)
colnames(animals)
animals <- data.frame(uniform, normal, integer, character, logical, stringsAsFactors = FALSE)
#These names are uninformative! Let's give them better ones:
names <- c("Weight", "Progress", "Height", "Name", "Healthy")
colnames(animals) <- names
head(animals)
#We can reorder the columns!
animals<- animals[,c("Name","Healthy","Weight","Height","Progress")]
animals<- animals[,c(3,5,4,1,2)]
head(animals)
names(animals)
colnames(animals)
#Day 2 Review
# How many different ways can you subset this data frame?
animals
#These names are uninformative! Let's give them better ones:
names <- c("Weight", "Progress", "Height", "Name", "Healthy")
colnames(animals) <- names
head(animals)
#We can reorder the columns!
animals<- animals[,c("Name","Healthy","Weight","Height","Progress")]
animals<- animals[,c(3,5,4,1,2)]
head(animals)
names(animals)
colnames(animals)
#Day 2 Review
# How many different ways can you subset this data frame?
animals <- data.frame(uniform, normal, integer, character, logical, stringsAsFactors = FALSE)
animals
animals <- data.frame(uniform, normal, integer, character, logical, stringsAsFactors=FALSE)
animals
#These names are uninformative! Let's give them better ones:
names <- c("Weight", "Progress", "Height", "Name", "Healthy")
colnames(animals) <- names
head(animals)
#We can reorder the columns!
animals<- animals[,c("Name","Healthy","Weight","Height","Progress")]
animals<- animals[,c(3,5,4,1,2)]
head(animals)
names(animals)
colnames(animals)
#Day 2 Review
# How many different ways can you subset this data frame?
normal= rnorm(20,0,1) #xbar=0, sd=1
integer=sample(5:10,20, replace=TRUE) #20 draws between 5 and 10 (ok to repeat and use numbers again)
?sample
character<- sample(c("Cat", "Dog", "Pig"), 20, replace=TRUE) # we can do the same thing with character data
logical <- sample(c("TRUE", "FALSE"), 20, replace=TRUE)
logical <- sample(c("TRUE", "FALSE"), 20, replace=TRUE)
logical <- as.logical(sample(c("TRUE", "FALSE", as.logical(0), as.logical(1)), 20, replace=TRUE))
logical <- as.logical(sample(c("TRUE", "FALSE",0,1), 20, replace=TRUE))
logical
class(logical)
#How do we turn these vectors into a data frame?
animals <- data.frame(uniform, normal, integer, character, logical, stringsAsFactors=FALSE)
animals
#These names are uninformative! Let's give them better ones:
names <- c("Weight", "Progress", "Height", "Name", "Healthy")
colnames(animals) <- names
head(animals)
#We can reorder the columns!
animals<- animals[,c("Name","Healthy","Weight","Height","Progress")]
animals<- animals[,c(3,5,4,1,2)]
head(animals)
names(animals)
colnames(animals)
animals$Name
str(animals)
animals$Name <- factor(animals$Name)
str(animals)
animals
animals_sub <- animals
animals_sub <- animals[,c(1,5)]
str(animals_sub)
#What if I just wanted a subsetted data frame with "Name" and "Progress"?
animals_sub2 <- animals[,c(5:17, 20), c(1,5)]
animals_sub2 <- animals[c(5:17, 20), c(1,5)]
str(animals_sub2)
uniform <-runif(20,3,7)#sample 20 draws form the uniform distribution (graph: horizontal line)
?runif
#remember arguments belong in parentheseses
normal= rnorm(20,0,1) #xbar=0, sd=1
integer=sample(5:10,20, replace=TRUE) #20 draws between 5 and 10 (ok to repeat and use numbers again)
?sample
character<- sample(c("Cat", "Dog", "Pig"), 20, replace=TRUE) # we can do the same thing with character data
logical <- sample(c("TRUE", "FALSE"), 20, replace=TRUE)
logical <- sample(c("TRUE", "FALSE"), 20, replace=TRUE)
logical <- as.logical(sample(c("TRUE", "FALSE", as.logical(0), as.logical(1)), 20, replace=TRUE))
logical <- as.logical(sample(c("TRUE", "FALSE"), 20, replace=TRUE))
logical
class(logical)
#How do we turn these vectors into a data frame?
animals <- data.frame(uniform, normal, integer, character, logical, stringsAsFactors=FALSE)
animals
# What if I just wanted a subsetted data frame with "Name" and "Progress"?
animals_sub <- animals[,c(1,5)]
str(animals_sub)
#What if I just wanted a subsetted data frame with "Name" and "Progress"?
animals_sub2 <- animals[c(5:17, 20), c(1,5)]
str(animals_sub2)
#These names are uninformative! Let's give them better ones:
names <- c("Weight", "Progress", "Height", "Name", "Healthy")
colnames(animals) <- names
head(animals)
#We can reorder the columns!
animals<- animals[,c("Name","Healthy","Weight","Height","Progress")]
animals<- animals[,c(3,5,4,1,2)]
head(animals)
names(animals)
colnames(animals)
animals$Name
#Day 2 Review
# How many different ways can you subset this data frame?
#1 "$" call a single column
animals$Name
#We actually want "Name" to be a factor so we can do comparisons
#To set the "Name" vector as a factor:
str(animals)
animals$Name <- factor(animals$Name)
str(animals)
animals
?summary
summary(animals)
require(pysch)
library(pysch)
install.packages("pysch")
library(pysch)
library(pysch)
install.packages("psych")
library(psych)
?describe
str(animals)
describe(animals[,c(3:5)])
describe(animals[,c(1:3)])
?describeBy
describeBy()
describeBy(animals[,c(1:3)]), animals$Name
describeBy(animals[,c(1:3)], animals$Name
describeBy(animals[,c(1:3)], animals$Name)
describeBy(animals[,c(1:3)], animals$Name)
table(animals$Name)
table(animals$Name)
table(animals$Name, animals$Healthy)
# use hist() to visualize a single variable
hist(animals$Weight, col="violetred")
?png
las=1) #make text parallel to x-axis
las=1) #make text parallel to x-axis
las=1) #make text parallel to x-axis
hist(animals$Weight, col="violetred",
main="Histogram of animal weights", # change title
xlab="Weight(kg)", #change x axis label
las=1) #make text parallel to x-axis
hist(animals$Weight, col="violetred",
main="Histogram of animal weights", # change title
xlab="Weight(kg)", #change x axis label
las=2) #make text parallel to x-axis
# save our histogram as a high-res, publishable quality figure
las=1) #make text parallel to x-axis
las=1) #make text parallel to x-axis
las=2) #make text parallel to x-axis
hist(animals$Weight, col="violetred",
main="Histogram of animal weights", # change title
xlab="Weight(kg)", #change x axis label
las=2) #make text parallel to x-axis
png("cool plot.png", height=6, width=6, units="in", res=300)
dev.off()
get(wd)
png("cool plot.png", height=6, width=6, units="in", res=300)
hist(animals$Weight, col="violetred",
main="Histogram of animal weights", # change title
xlab="Weight(kg)", #change x axis label
las=2) #make text parallel to x-axis
dev.off()
getwd()
data(iris)
?iris
str(iris)
data()
iris
head(iris)
table(species$Name)
table(Species$Name)
table(iris$Name, iris$Species)
table(iris$Species)
hist(iris$Sepal.Length, col=darkgreen",
hist(iris$Sepal.Length, col=darkgreen")
hist(iris$Sepal.Length)
hist(iris$Sepal.Length, col = "light green")
?plot
str(animals)
animals$Weight
animals$Height
plot(animals$Weight, animals$Height)
plot(animals$Weight, animals$Height,
xlab="Weight" (lbs)", # change x label
ylab="Height (meters)", # change y label
)
as.integer(animals$Name)
col=as.integer(animals$Name), #map point colors to cat, dog, pig
cex=4) #change point SIZE
ylim=c(4,11)) #chagne y axis limits
?pch
as.integer(animals$Name)
plot(animals$Weight, animals$Height,
xlab="Weight (lbs)", # change x label
ylab="Height (meters)", # change y label
main="Scatterplot of animal Weight x Height", # change title
las=1, #make axis text more horizontal
col=as.integer(animals$Name), #map point colors to cat, dog, pig
as.integer(animals$Name), #map point SHAPES to cat, dog, pig
cex=1, #change point SIZE
xlim=c(2,8), #change x axis limits
ylim=c(4,11))
plot(animals$Weight, animals$Height,
xlab="Weight (lbs)", # change x label
ylab="Height (meters)", # change y label
main="Scatterplot of animal Weight x Height", # change title
las=1, #make axis text more horizontal
col=as.integer(animals$Name), #map point colors to cat, dog, pig
as.integer(animals$Name), #map point SHAPES to cat, dog, pig
cex=1, #change point SIZE
xlim=c(2,8), #change x axis limits
ylim=c(4,11))
plot(animals$Weight, animals$Height,
xlab="Weight (lbs)", # change x label
ylab="Height (meters)", # change y label
main="Scatterplot of animal Weight x Height", # change title
las=1, #make axis text more horizontal
col=as.integer(animals$Name), #map point colors to cat, dog, pig
pch=as.integer(animals$Name), #map point SHAPES to cat, dog, pig
cex=1, #change point SIZE
xlim=c(2,8), #change x axis limits
ylim=c(4,11))
legend("topright")
horiz=FALSE)
devoff()
horiz=FALSE)
horiz=FALSE)
legend("topright", inset=.0, title="Animal", cex=1,
horiz=FALSE)
pch=as.integer(iris$Species))
iris$Species
col = c(1,2,3)
pch=c(1,2,3)
legend("topleft", inset=.1,
horiz=FALSE)
plot(iris$Petal.Length, iris$Petal.Width,
col=as.integer(iris$Species),
pch=as.integer(iris$Species))
iris$Species
legend("topleft", inset=.1,
c("setosa", "versicolor, virgnica"),
pch=c(1,2,3))
plot(animals$Weight, animals$Height,
xlab="Weight (lbs)", # change x label
ylab="Height (meters)", # change y label
main="Scatterplot of animal Weight x Height", # change title
las=1, #make axis text more horizontal
col=as.integer(animals$Name), #map point colors to cat, dog, pig
pch=as.integer(animals$Name), #map point SHAPES to cat, dog, pig
cex=1, #change point SIZE
xlim=c(2,8), #change x axis limits
ylim=c(4,11)) #chagne y axis limits
# add a legend:
legend("topright", inset=.0, title="Animal", cex=1,
c("Cat", "Dog", "Pig"), col=c(1,2,3), pch=c(1,2,3),
horiz=FALSE)
plot(iris$Petal.Length, iris$Petal.Width,
col=as.integer(iris$Species),
pch=as.integer(iris$Species))
iris$Species
legend("topleft", inset=.1,
c("setosa", "versicolor, virgnica"),
col=c(1,2,3)
pch=c(1,2,3))
legend("topleft", inset=.1,
c("setosa", "versicolor, virgnica"),
col=c(1,2,3)
pch=c(1,2,3))
pch=c(1,2,3))
boxplot(iris$Petal.Width ~ iris$Species, col=c("aquamarine", "goldenrod", "salmon"))
summary(iris)
plot(iris$Petal.Length, iris$Petal.Width,
col=as.integer(iris$Species),
pch=as.integer(iris$Species))
iris$Species
legend("topleft", inset=.1,
c("setosa", "versicolor, virgnica"),
col=c(1,2,3),
pch=c(1,2,3))
boxplot(iris$Petal.Width ~ iris$Species, col=c("aquamarine", "goldenrod", "salmon"))
main="Hooray!")
boxplot(iris$Petal.Width ~ iris$Species, col=c("aquamarine", "goldenrod", "salmon"),
main="Hooray!")
?t.test
t.test(iris$Petal.Length, iris$Petal.Width)
# To compare more than two group means, we use an ANOVA (analysis of variance)
?aov
flower.aov <- aov(Petal.Length ~ Species, data=iris)
flower.aov <- aov(Petal.Length ~ Species, data=iris)
flower.aov
?summary
summary(flower.aov)
?TukeyHSD
TukeyHSD(flower.aov)
?cor.test()
cor.test(animals$Height, animals$Weight)
print("Hello World!")
>print("Hello World!")
# load required packages
library(WDI)
library(dplyr)
library(readr)
library(stringr)
library(readxl)
# import indicators into single data frame and rename fields
indicators <- WDI(indicator=indic_list, country="all", start=1990, end=2012, extra=T, cache=NULL) %>%
rename(gdp_percap=NY.GDP.PCAP.PP.CD, child_mortal=SH.DYN.MORT, fertil_rate=SP.DYN.TFRT.IN) %>%
filter(income != "Aggregates") %>%
mutate(year = as.integer(year))
# data cleaning
indicators$region <- gsub("all income levels","", indicators$region)
indicators$region <- gsub("\\(|\\)","", indicators$region)
indicators$region <- str_trim(indicators$region)
indicators$income <- gsub(": nonOECD","", indicators$income)
indicators$income <- gsub(": OECD","", indicators$income)
# import indicators into single data frame and rename fields
indicators <- WDI(indicator=indic_list, country="all", start=1990, end=2012, extra=T, cache=NULL) %>%
rename(gdp_percap=NY.GDP.PCAP.PP.CD, child_mortal=SH.DYN.MORT, fertil_rate=SP.DYN.TFRT.IN,
adol_fertil_rate=SP.MTR.1519.ZS) %>%
filter(income != "Aggregates") %>%
mutate(year = as.integer(year))
indic_list <- c("NY.GDP.PCAP.PP.CD", "SH.DYN.MORT", "SP.DYN.TFRT.IN", "SP.MTR.1519.ZS")
indicators <- WDI(indicator=indic_list, country="all", start=1990, end=2012, extra=T, cache=NULL) %>%
rename(gdp_percap=NY.GDP.PCAP.PP.CD, child_mortal=SH.DYN.MORT, fertil_rate=SP.DYN.TFRT.IN,
adol_fertil_rate=SP.MTR.1519.ZS) %>%
filter(income != "Aggregates") %>%
mutate(year = as.integer(year))
View(indicators)
ggplot(prim_sec_infertility, aes(x = fertil_rate, y = total_infertility_rate)) +
geom_smooth(method = lm, se = FALSE, color = "black", linetype = "dotdash", size = 0.3) +
scale_fill_brewer(palette = "Set1", name = "") +
geom_point_interactive(shape = 21, size = 2.5, alpha = 0.5, color= "black", aes(tooltip = country, fill=region.x)) +
theme_minimal(base_size = 12, base_family = "Georgia") +
xlab("Birth Rate") +
ylab("Infertility Rate") +
theme(legend.position = "bottom") +
guides(guide_legend(ncol=3))
# load required packages
library(WDI)
library(dplyr)
library(readr)
library(stringr)
library(readxl)
library(ggplot2)
library(ggiraph)
library(htmlwidgets)
library(tidyr)
library(waffle)
library(forcats)
setwd("~/Google Drive/maggie-hodges")
ggplot(prim_sec_infertility, aes(x = fertil_rate, y = total_infertility_rate)) +
geom_smooth(method = lm, se = FALSE, color = "black", linetype = "dotdash", size = 0.3) +
scale_fill_brewer(palette = "Set1", name = "") +
geom_point_interactive(shape = 21, size = 2.5, alpha = 0.5, color= "black", aes(tooltip = country, fill=region.x)) +
theme_minimal(base_size = 12, base_family = "Georgia") +
xlab("Birth Rate") +
ylab("Infertility Rate") +
theme(legend.position = "bottom") +
guides(guide_legend(ncol=3))
prim_sec_infertility <- left_join(primary_infertility,secondary_infertility, by=c("country", "year")) %>%
filter(year == "2010") %>%
filter(!is.na(primary_infertility_rate)) %>%
filter(!is.na(secondary_infertility_rate)) %>%
rename(women20_44 = `total population women 20-44`) %>%
mutate(total_infertility_rate = primary_infertility_rate+secondary_infertility_rate)
#
load("/Users/MaggieHodges/Google Drive/maggie-hodges/fertility_environment.RData")
ggplot(prim_sec_infertility, aes(x = fertil_rate, y = total_infertility_rate, color = region.x)) +
scale_color_brewer(palette = "Accent", name = "") +
geom_point(size = 1.5, alpha =0.6) +
theme_minimal(base_size = 12, base_family = "Georgia") +
xlab("Birth Rate") +
ylab("Infertility Rate") +
theme(legend.position = "bottom")
ggplot(prim_sec_infertility, aes(x = fertil_rate, y = total_infertility_rate)) +
geom_smooth(method = lm, se = FALSE, color = "black", linetype = "dotdash", size = 0.3) +
scale_fill_brewer(palette = "Set1", name = "") +
geom_point_interactive(shape = 21, size = 2.5, alpha = 0.5, color= "black", aes(tooltip = country, fill=region.x)) +
theme_minimal(base_size = 12, base_family = "Georgia") +
xlab("Birth Rate") +
ylab("Infertility Rate") +
theme(legend.position = "bottom") +
guides(guide_legend(ncol=3))
parts <- c(50,25,25)
waffle(parts, row=5,
size=1,
title = "",
xlab = NULL,
pad = 5) +
theme(text=element_text(size=16, family="Georgia"),
legend.position="right")
parts <- data.frame(
names = c("female","male","combination"),
vals = c(50,25,25)
)
View(parts)
waffle(parts, row=5,
size=1,
title = "",
xlab = NULL,
pad = 5) +
theme(text=element_text(size=16, family="Georgia"),
legend.position="right")
waffle(parts, rows=5,
size=1,
title = "",
xlab = NULL,
pad = 5)
waffle(parts, rows=5)
waffle(parts, rows=5)
waffle(parts, row=5)
parts <-  c(50,25,25)
waffle(parts, row=5,
size=1,
title = "",
xlab = NULL,
pad = 5) +
theme(text=element_text(size=16, family="Georgia"),
legend.position="right")
waffle(parts, row=5,
names = c(1,2,3),
size=1,
title = "",
xlab = NULL,
pad = 5) +
theme(text=element_text(size=16, family="Georgia"),
legend.position="right")
waffle(parts, row=5,
name = c(1,2,3),
size=1,
title = "",
xlab = NULL,
pad = 5) +
theme(text=element_text(size=16, family="Georgia"),
legend.position="right")
parts <-  c("female"=50,"male"=25,"combination"=25)
waffle(parts, row=5,
size=1,
title = "",
xlab = NULL,
pad = 5) +
theme(text=element_text(size=16, family="Georgia"),
legend.position="right")
